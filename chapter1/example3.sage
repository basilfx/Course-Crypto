# Table 1.2
pr_single = [0.0723, 0.0282, 0.006, 0.1566, 0.0483, 0.0216, 0.0167, 0.0787, 0.0402, 0.0064, 0.0006, 0.0236, 0.0396, 0.0716, 0.0814, 0.0007, 0.0161, 0.0715, 0.0751, 0.0272, 0.0773, 0.0078, 0.0117, 0.0168, 0.003, 0.001]

# Table 1.3
pr_double = [
    [0.0011, 0.0193, 0.0388, 0.0469, 0.0020, 0.0100, 0.0233, 0.0020, 0.0480, 0.0020, 0.0103, 0.1052, 0.0281, 0.1878, 0.0008, 0.0222, 0, 0.1180, 0.1001, 0.1574, 0.0137, 0.0212, 0.0057, 0.0026, 0.0312, 0.0023],
    [0.0931, 0.0057, 0.0016, 0.0008, 0.3219, 0, 0, 0, 0.0605, 0.0057, 0, 0.1242, 0.0049, 0, 0.0964, 0, 0, 0.0662, 0.0229, 0.0049, 0.0727, 0.0016, 0, 0, 0.1168, 0],
    [0.1202, 0, 0.0196, 0.0004, 0.1707, 0, 0, 0.1277, 0.0761, 0, 0.0324, 0.0369, 0.0015, 0.0011, 0.2283, 0, 0.0004, 0.0426, 0.0087, 0.0893, 0.0347, 0, 0, 0, 0.0094, 0],
    [0.1044, 0.0020, 0.0026, 0.0218, 0.3778, 0.0007, 0.0132, 0.0007, 0.1803, 0.0033, 0, 0.0125, 0.0178, 0.0053, .0733, 0, 0.0007, 0.0324, 0.0495, 0.0013, 0.0601, 0.0099, 0.0040, 0, 0.0264, 0],
    [0.0660, 0.0036, 0.0433, 0.1194, 0.0438, 0.0142, 0.0125, 0.0021, 0.0158, 0.0005, 0.0036, 0.0456, 0.0340, 0.1381, 0.0040, 0.0192, 0.0034, 0.1927, 0.1231, 0.0404, 0.0048, 0.0215, 0.0205, 0.0152, 0.0121, 0.0004],
    [0.0838, 0, 0, 0, 0.1283, 0.0924, 0, 0, 0.1608, 0, 0, 0.0299, 0.0009, 0.0009, 0.2789, 0, 0, 0.1215, 0.0026, 0.0496, 0.0462, 0, 0, 0, 0.0043, 0],
    [0.1078, 0, 0, 0.0018, 0.2394, 0, 0.0177, 0.1281, 0.0839, 0, 0, 0.0203, 0.0027, 0.0451, 0.1140, 0, 0, 0.1325, 0.0256, 0.0247, 0.0512, 0, 0, 0, 0.0053, 0],
    [0.1769, 0.0005, 0.0014, 0.0008, 0.5623, 0, 0, 0.0005, 0.1167, 0, 0, 0.0016, 0.0016, 0.0038, 0.0786, 0, 0, 0.0153, 0.0027, 0.0233, 0.0085, 0, 0.0011, 0, 0.0041, 0],
    [0.0380, 0.0082, 0.0767, 0.0459, 0.0437, 0.0129, 0.0280, 0.0002, 0.0016, 0, 0.0050, 0.0567, 0.0297, 0.2498, 0.0893, 0.0100, 0.0008, 0.0342, 0.1194, 0.1135, 0.0011, 0.0250, 0, 0.0023, 0.0002, 0.0079],
    [0.1259, 0, 0, 0, 0.1818, 0, 0, 0, 0.0350, 0, 0, 0, 0, 0, 0.3147, 0, 0, 0.0070, 0, 0, 0.3357, 0, 0, 0, 0, 0],
    [0.0395, 0.0028, 0, 0.0028, 0.5282, 0.0028, 0, 0.0198, 0.1582, 0, 0.0113, 0.0198, 0.0028, 0.0565, 0.0198, 0, 0, 0.0085, 0.1102, 0.0028, 0.0028, 0, 0, 0, 0.0113, 0],
    [0.1342, 0.0019, 0.0022, 0.0736, 0.1918, 0.0105, 0.0108, 0, 0.1521, 0, 0.0079, 0.1413, 0.0082, 0.0004, 0.0778, 0.0041, 0, 0.0034, 0.0389, 0.0254, 0.0269, 0.0056, 0.0011, 0, 0.0819, 0],
    [0.1822, 0.0337, 0.0026, 0, 0.2975, 0.0010, 0, 0, 0.1345, 0, 0, 0.0010, 0.0654, 0.0042, 0.1246, 0.0722, 0, 0.0026, 0.0244, 0.0005, 0.0337, 0.0005, 0, 0, 0.0192, 0],
    [0.0550, 0.0004, 0.0621, 0.1681, 0.1212, 0.0102, 0.1391, 0.0013, 0.0665, 0.0009, 0.0066, 0.0073, 0.0104, 0.0194, 0.0528, 0.0004, 0.0007, 0.0011, 0.0751, 0.1641, 0.0124, 0.0068, 0.0018, 0.0002, 0.0157, 0.0004],
    [0.0085, 0.0101, 0.0162, 0.0231, 0.0037, 0.1299, 0.0082, 0.0025, 0.0092, 0.0014, 0.0078, 0.0416, 0.0706, 0.2190, 0.0222, 0.0292, 0, 0.1530, 0.0357, 0.0396, 0.0947, 0.0334, 0.0345, 0.0012, 0.0041, 0.0004],
    [0.1359, 0, 0.0006, 0, 0.1747, 0, 0, 0.0237, 0.0423, 0, 0, 0.0812, 0.0073, 0.0006, 0.1511, 0.0581, 0, 0.2306, 0.0180, 0.0287, 0.0457, 0, 0, 0, 0.0017, 0],
    [0.0000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,1, 0, 0, 0, 0, 0],
    [0.1026, 0.0033, 0.0172, 0.0282, 0.2795, 0.0031, 0.0175, 0.0017, 0.1181, 0, 0.0205, 0.0164, 0.0303, 0.0325, 0.1114, 0.0055, 0, 0.0212, 0.0655, 0.0596, 0.0192, 0.0142, 0.0017, 0.0002, 0.0306, 0],
    [0.0604, 0.0012, 0.0284, 0.0027, 0.1795, 0.0024, 0, 0.0561, 0.1177, 0, 0.0091, 0.0145, 0.0112, 0.0021, 0.0706, 0.0386, 0.0009, 0.0027, 0.0836, 0.2483, 0.0579, 0, 0.0039, 0, 0.0081, 0],
    [0.0619, 0.0003, 0.0036, 0.0002, 0.1417, 0.0007, 0.0002, 0.3512, 0.1406, 0, 0, 0.0101, 0.0044, 0.0015, 0.1229, 0.0003, 0, 0.0479, 0.0418, 0.0213, 0.0195, 0.0005, 0.0088, 0, 0.0203, 0.0005],
    [0.0344, 0.0415, 0.0491, 0.0243, 0.0434, 0.0052, 0.0382, 0.0010, 0.0258, 0, 0.0014, 0.1097, 0.0329, 0.1517, 0.0019, 0.0386, 0, 0.1460, 0.1221, 0.1255, 0.0029, 0.0014, 0, 0.0010, 0.0014, 0.0005],
    [0.0749, 0, 0, 0.0023, 0.6014, 0, 0, 0, 0.2569, 0, 0, 0, 0.0012, 0, 0.0530, 0, 0, 0, 0.0023, 0, 0.0012, 0.0012, 0, 0, 0.0058, 0],
    [0.2291, 0.0008, 0, 0.0032, 0.1942, 0, 0, 0.1422, 0.2104, 0, 0, 0.0041, 0, 0.0357, 0.1292, 0, 0, 0.0106, 0.0366, 0.0016, 0, 0, 0, 0, 0.0024, 0],
    [0.0672, 0, 0.1119, 0, 0.1269, 0, 0, 0.0075, 0.1119, 0, 0, 0, 0.0075, 0, 0.0075, 0.3507, 0, 0, 0, 0.1716, 0, 0, 0, 0.0373, 0, 0],
    [0.0586, 0.0034, 0.0103, 0.0069, 0.2897, 0, 0, 0, 0.0690, 0, 0.0034, 0.0172, 0.0379, 0.0172, 0.2207, 0.0310, 0, 0.0310, 0.1517, 0.0172, 0.0138, 0, 0.0103, 0, 0.0069, 0.0034],
    [0.2278, 0, 0, 0, 0.4557, 0, 0, 0, 0.2152, 0, 0, 0.0127, 0, 0, 0.0506, 0, 0, 0, 0, 0, 0.0127, 0, 0, 0, 0, 0.0253]
]

# Algorithm
def calculate(source):
    # Variables
    pr = 0.0
    prs = []
    index = 0
    old_index = 0

    # Conver to lower case
    source = source.lower()

    for i in range(len(source)):
        index = ord(source[i]) - 97

        if i == 0:
            pr = float(pr_single[index])
            prs.append(float(pr_single[index]))
        else:
            pr = pr * float(pr_double[old_index][index])
            prs.append(float(pr_double[old_index][index]))

        old_index = index

    # Done
    print source, prs, pr

# Execute algorithm
calculate("run")
calculate("urn")
calculate("nru")